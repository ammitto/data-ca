= Ammitto Canada Sanctions Data Repository

== Purpose

This repository stores downloaded and processed sanctions data from
Global Affairs Canada (GAC) Consolidated Canadian Autonomous Sanctions List.

The data is maintained by the Ammitto project and used by the `ammitto` Ruby
gem for querying international sanctions information.

== Legal Basis

Canadian sanctions are implemented through:

* The Special Economic Measures Act (SEMA)
* The Justice for Victims of Corrupt Foreign Officials Act (Sergei Magnitsky Law)
* The United Nations Act
* The Criminal Code (terrorism listings)
* Various country-specific regulations

Canada implements both UN Security Council sanctions and autonomous
sanctions regimes.

== Data Source

* **Authority**: Global Affairs Canada (GAC)
* **API Endpoint**: https://www.international.gc.ca/world-monde/assets/office_docs/international_relations-relations_internationales/sanctions/sema-lmes.xml
* **Format**: XML
* **Update Frequency**: As changes occur in Canadian sanctions regimes
* **Official Source**: https://www.international.gc.ca/world-monde/issues_development-enjeux_developpement/response_conflict-reponse_conflits/sanctions/consolidated-consolide.aspx

== Directory Structure

```
.
├── downloaded/           # Raw data downloaded from GAC
│   └── ca_sanctions_list.xml
├── processed/            # Individual YAML files per sanction entity
│   └── {name}-{index}.yaml
├── reference-docs/       # Reference documentation
├── README.adoc           # This file
├── CLAUDE.md             # Guidance for Claude Code
└── update.log            # Timestamps of data updates
```

== Directory Descriptions

downloaded/:: Contains raw XML data files as downloaded from GAC.
The primary file is `ca_sanctions_list.xml` which contains the complete
consolidated list.

processed/:: Contains individual YAML files, one per sanction entity.
Files are named using the pattern `{primary-name}-{index}.yaml` where
index ensures uniqueness for entities with similar names.

reference-docs/:: Contains reference documentation about the Canadian
sanctions schema and data formats.

update.log:: Log file tracking when data was last updated with timestamps.

== Updating Data

Data can be updated using the ammitto gem:

[source,shell]
----
# From the ammitto gem directory
bundle exec ruby exe/ammitto fetch ca --format yaml --output-dir ./processed
----

Or via the adapters repository:

[source,shell]
----
# From the adapters/ directory
ruby adapter.rb
----

== YAML Schema

Each processed YAML file follows the schema defined in
`ammitto/lib/ammitto/sources/ca/` using Lutaml::Model.

.Example YAML structure
[source,yaml]
----
names:
  - "PRIMARY NAME"
  - "ALIAS 1"
entity_type: person  # or "organization"
source: ca
country: Country Name
birthdate: "YYYY-MM-DD"
identifications:
  - type: "Passport"
    number: "XXX123456"
addresses:
  - street: "Street Address"
    city: "City"
    country: "Country"
----

== Entity Types

The Canadian sanctions list contains the following entity types:

Person:: Individual persons subject to sanctions
Organization:: Legal entities, companies, and organizations

== Knowledge Graph Integration

This repository's processed YAML data feeds into the Ammitto knowledge graph.

When the harmonization process runs:

[source,shell]
----
# Auto-detect all data-* repos and harmonize
ammitto harmonize --scan --sources-dir /path/to/repos --output-dir ./api/v1
----

The ca data is transformed into:

* Individual JSON-LD nodes in `api/v1/node/entity/ca/{id}.jsonld`
* Sanction entries in `api/v1/node/entry/ca/{id}.jsonld`
* Lightweight search index entries
* Facet counts for filtering

== Related Repositories

* https://github.com/ammitto/ammitto[ammitto] - Main Ruby gem with harmonization
* https://github.com/ammitto/data[data] - Harmonized knowledge graph output
* https://github.com/ammitto/ammitto.github.io[ammitto.github.io] - Website with search

== License

Data in this repository is sourced from official Canadian government
publications and is subject to Canadian government licensing terms.
The data processing code is part of the Ammitto project.
